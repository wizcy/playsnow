# SEO Audit Report — playsnow.top
**日期：** 2026-02-26  
**审计人：** 毛工程师  
**背景：** GSC 显示 sitemap 提交 28 个 URL，仅首页被收录，27 个游戏子页面全部"已找到-目前尚未建立索引"

---

## 执行摘要

发现 **6 个 P0 问题**，是导致 27 个页面无法收录的直接原因。核心问题是：**所有页面缺少 canonical 标签** + **sitemap URL 无尾部斜杠** + **静态导出模式下 URL 格式不一致**。

---

## P0 问题（直接阻塞收录）

### P0-1：所有页面缺少 canonical 标签 ⚠️ 最高优先级

**发现：**
```bash
grep -i "canonical" out/games/snake.html  # 无输出
grep -i "canonical" out/index.html        # 无输出
```
所有页面的 `<head>` 中完全没有 `<link rel="canonical">` 标签。

**影响：** Google 无法确定页面的权威 URL，会自行选择"规范版本"，可能选错（如选 http 版本或带 .html 后缀的版本），导致正确 URL 不被收录。这是 27 个页面"已找到-目前尚未建立索引"的最可能原因之一。

**根因：** `layout.tsx` 和 `games/[slug]/page.tsx` 的 `generateMetadata` 均未设置 `alternates.canonical`。

**修复方案：**

`src/app/layout.tsx` — 全局 metadata 加 metadataBase（已有）+ canonical：
```typescript
// src/app/games/[slug]/page.tsx — generateMetadata 中加：
export function generateMetadata({ params }: { params: { slug: string } }): Metadata {
  const game = getGame(params.slug);
  if (!game) return {};
  return {
    title: `Play ${game.title} Online Free - No Download`,
    description: game.description,
    alternates: {
      canonical: `https://playsnow.top/games/${game.slug}`,  // ← 新增
    },
    // ...其余不变
  };
}
```

首页 `src/app/page.tsx` 加：
```typescript
export const metadata: Metadata = {
  alternates: { canonical: "https://playsnow.top/" },
};
```

---

### P0-2：sitemap.xml 首页 URL 缺少尾部斜杠

**发现：**
```xml
<!-- 当前 sitemap.xml -->
<loc>https://playsnow.top</loc>   ← 无尾部斜杠

<!-- 应为 -->
<loc>https://playsnow.top/</loc>
```

**影响：** GSC 已收录的是 `https://playsnow.top/`（有斜杠），sitemap 里写的是 `https://playsnow.top`（无斜杠），两者不一致。Google 会将其视为两个不同 URL，造成信号分散。

**修复方案：**
```typescript
// src/app/sitemap.ts
{ url: `${base}/`, lastModified: new Date(), changeFrequency: "weekly", priority: 1 },
//                ↑ 加斜杠
```

---

### P0-3：sitemap URL 与实际页面 URL 格式不一致（静态导出问题）

**发现：**
项目使用 `output: "export"` 静态导出，Vercel 部署后实际 URL 有两种可能：
- `https://playsnow.top/games/snake`（无 .html）
- `https://playsnow.top/games/snake.html`（有 .html，静态文件实际路径）

sitemap 写的是 `/games/snake`（无 .html），但静态导出生成的文件是 `out/games/snake.html`。

**影响：** 如果 Vercel 没有配置 clean URL rewrite，Google 抓取 `/games/snake` 可能得到 404，而实际内容在 `/games/snake.html`。这直接导致页面"已找到但未建立索引"。

**修复方案：** 在项目根目录创建 `vercel.json`，强制 clean URL：
```json
{
  "cleanUrls": true,
  "trailingSlash": false
}
```
`cleanUrls: true` 让 Vercel 自动将 `/games/snake.html` → `/games/snake` 301 重定向，sitemap URL 与实际 URL 完全一致。

---

### P0-4：无 http → https 强制重定向配置

**发现：** 项目无 `vercel.json`，未配置 http → https 重定向规则。

**影响：** GSC 显示 http 和 https 各收录一条首页，说明 http 版本可访问。Google 会将 http 和 https 视为不同 URL，分散 PageRank。

**修复方案：** Vercel 默认会处理 https 重定向，但需确认域名设置。在 `vercel.json` 中可额外加：
```json
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "Strict-Transport-Security", "value": "max-age=31536000; includeSubDomains" }
      ]
    }
  ]
}
```

---

### P0-5：meta title 格式不够强，缺少长尾词

**发现：**
```typescript
// 当前 generateMetadata
title: `${game.title} - Play Free Online`
// 生成结果：
// "Snake - Play Free Online | PlayNow"
// "2048 - Play Free Online | PlayNow"
```

**问题：** title 格式过于通用，缺少具体长尾词。对比竞品：
- 目标格式：`Play Snake Game Online Free - No Download | PlayNow`
- 当前格式：`Snake - Play Free Online | PlayNow`

每个游戏的 `keywords` 数组里有很好的长尾词（如 `"snake game online"`, `"snake unblocked"`），但没有用进 title。

**修复方案：**
```typescript
title: `Play ${game.title} Online Free - No Download`,
// 模板会自动加 " | PlayNow"
// 结果：Play Snake Online Free - No Download | PlayNow
```

---

### P0-6：meta description 使用 game.description（太短）

**发现：**
```
Snake description: "Guide the snake to eat food and grow longer without hitting walls or yourself."
```
仅 75 字符，Google 建议 120-160 字符。内容过短，点击率低，且没有包含关键词变体。

**修复方案：** 在 `games.ts` 每个游戏加 `metaDescription` 字段（150字符左右），或在 `generateMetadata` 中拼接：
```typescript
description: `${game.description} Play ${game.title} free online, no download required. ${game.keywords[0]}.`,
```

---

## P1 问题（影响收录质量）

### P1-1：BreadcrumbList schema 缺失

**发现：** 游戏页面有面包屑导航 UI，但没有对应的 `BreadcrumbList` JSON-LD schema。

**影响：** Google 无法在搜索结果中显示面包屑路径，降低点击率。

**修复方案：** 在 `games/[slug]/page.tsx` 的 schema 区域加：
```typescript
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  itemListElement: [
    { "@type": "ListItem", position: 1, name: "Home", item: "https://playsnow.top/" },
    { "@type": "ListItem", position: 2, name: `${game.category} Games`, item: `https://playsnow.top/category/${game.category.toLowerCase()}` },
    { "@type": "ListItem", position: 3, name: game.title, item: `https://playsnow.top/games/${game.slug}` },
  ],
};
```

---

### P1-2：VideoGame schema 缺少 url 字段

**发现：**
```typescript
// 当前 schema
{
  "@type": "VideoGame",
  name: game.title,
  // 缺少 url 字段
}
```

**修复方案：**
```typescript
{
  "@type": "VideoGame",
  name: game.title,
  url: `https://playsnow.top/games/${game.slug}`,  // ← 新增
  description: game.description,
  // ...
}
```

---

### P1-3：分类页 canonical 缺失

**发现：** `src/app/category/[slug]/page.tsx` 同样没有 canonical。

**修复方案：** 在分类页 `generateMetadata` 加：
```typescript
alternates: { canonical: `https://playsnow.top/category/${params.slug}` },
```

---

### P1-4：首页 hero 文案与实际游戏数量不符

**发现：**
```typescript
// src/app/page.tsx
<p className="text-xl text-gray-400 mb-8">15 classic games, no download needed</p>
```
但 `games.ts` 实际有 **16 个游戏**（含 magic-tower）。

**影响：** 小问题，但影响可信度。

**修复方案：** 改为动态：
```typescript
<p>{games.length} classic games, no download needed</p>
```

---

## P2 问题（优化项）

### P2-1：og:image 缺失

所有页面无 `og:image`，社交分享时无预览图，影响社交流量。建议为每个游戏生成 SVG 缩略图或使用 Next.js `ImageResponse` 动态生成 OG 图。

### P2-2：sitemap lastmod 使用 `new Date()`（每次 build 都变）

```typescript
lastModified: new Date()  // 每次 build 都是当前时间
```
建议改为固定日期或游戏数据的实际更新时间，避免 Google 误判内容频繁变化。

### P2-3：页面加载性能

`output: "export"` 静态导出是正确选择，性能本身没问题。但游戏组件（如 GameChess、GameSolitaire）体积较大，建议确认 Vercel 已开启 gzip/brotli 压缩。

### P2-4：内链密度

首页通过 GameCard 链接到所有游戏 ✅  
游戏页面通过 "More Games You Might Like" 链接到 5 个相关游戏 ✅  
分类页链接到该分类所有游戏 ✅  
内链结构整体良好，无需大改。

---

## 修复优先级汇总

| 优先级 | 问题 | 预计修复时间 | 收录影响 |
|--------|------|------------|---------|
| P0-1 | 所有页面缺 canonical | 30min | 极高 |
| P0-2 | sitemap 首页无尾部斜杠 | 5min | 高 |
| P0-3 | 创建 vercel.json（cleanUrls） | 10min | 极高 |
| P0-4 | HSTS header 配置 | 5min | 中 |
| P0-5 | meta title 加长尾词 | 20min | 高 |
| P0-6 | meta description 加长 | 30min | 中 |
| P1-1 | BreadcrumbList schema | 20min | 中 |
| P1-2 | VideoGame schema 加 url | 5min | 低 |
| P1-3 | 分类页 canonical | 10min | 中 |
| P1-4 | 首页游戏数量动态化 | 2min | 低 |

---

## 建议修复顺序

1. **立刻修复（今天）：** P0-3（vercel.json）+ P0-1（canonical）+ P0-2（sitemap 斜杠）
2. **本周内：** P0-5（title 优化）+ P0-6（description 加长）+ P1-1（BreadcrumbList）
3. **下周：** P2 系列优化项

修复 P0-1 + P0-3 后，重新提交 sitemap，预计 1-2 周内 Google 开始收录游戏子页面。

---

*报告生成：2026-02-26 | 审计方式：源码静态分析 + 构建产物检查*
